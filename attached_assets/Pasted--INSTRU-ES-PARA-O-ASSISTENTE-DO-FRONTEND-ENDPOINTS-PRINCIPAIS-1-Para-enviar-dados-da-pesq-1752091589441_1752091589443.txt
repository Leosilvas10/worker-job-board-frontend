üìã INSTRU√á√ïES PARA O ASSISTENTE DO FRONTEND:
üéØ ENDPOINTS PRINCIPAIS:
1. Para enviar dados da pesquisa trabalhista:

POST https://worker-job-board-backend-leonardosilvas2.replit.app/api/labor-research
2. Para listar todos os leads:

GET https://worker-job-board-backend-leonardosilvas2.replit.app/api/labor-research-leads
3. Para deletar um lead espec√≠fico:

DELETE https://worker-job-board-backend-leonardosilvas2.replit.app/api/labor-research-leads/:id
4. Para deletar m√∫ltiplos leads:

DELETE https://worker-job-board-backend-leonardosilvas2.replit.app/api/labor-research-leads
üì® FORMATO DOS DADOS PARA ENVIO (POST):
{
  // Dados pessoais
  "nomeCompleto": "Maria Silva",
  "email": "maria@email.com",
  "telefone": "(11) 98765-4321",
  "cidade": "S√£o Paulo",
  "estado": "SP",
  "idade": "35",
  
  // Dados da pesquisa trabalhista
  "ultimaEmpresa": "Empresa XYZ LTDA",
  "tipoCarteira": "sim",
  "recebeuTudoCertinho": "nao",
  "situacoesDuranteTrabalho": ["horas_extras_nao_pagas", "ferias_nao_concedidas"],
  "aceitaConsultoria": "sim",
  "whatsapp": "(11) 98765-4321"
}
üóëÔ∏è C√ìDIGO PARA DELETAR LEADS:
// Deletar um lead espec√≠fico
const deleteLead = async (leadId) => {
  try {
    const response = await fetch(`https://worker-job-board-backend-leonardosilvas2.replit.app/api/labor-research-leads/${leadId}`, {
      method: 'DELETE',
      headers: {
        'Content-Type': 'application/json'
      }
    });
    
    const result = await response.json();
    console.log('Lead deletado:', result);
    
    // Atualizar a lista ap√≥s deletar
    fetchLeads();
    
  } catch (error) {
    console.error('Erro ao deletar lead:', error);
  }
};
// Deletar m√∫ltiplos leads
const deleteMultipleLeads = async (leadIds) => {
  try {
    const response = await fetch('https://worker-job-board-backend-leonardosilvas2.replit.app/api/labor-research-leads', {
      method: 'DELETE',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        ids: leadIds // Array: [1752071839582, 1752073197226]
      })
    });
    
    const result = await response.json();
    console.log('Leads deletados:', result);
    
    // Atualizar a lista ap√≥s deletar
    fetchLeads();
    
  } catch (error) {
    console.error('Erro ao deletar leads:', error);
  }
};
‚úÖ TESTE PARA VERIFICAR SE EST√Å FUNCIONANDO:
"Execute este curl para testar o endpoint de envio de dados:"

curl -X POST https://worker-job-board-backend-leonardosilvas2.replit.app/api/labor-research \
  -H "Content-Type: application/json" \
  -d '{
    "nomeCompleto": "Teste Silva",
    "email": "teste@email.com",
    "telefone": "(11) 99999-9999",
    "cidade": "S√£o Paulo",
    "estado": "SP",
    "idade": "30",
    "ultimaEmpresa": "Teste Company",
    "tipoCarteira": "sim",
    "recebeuTudoCertinho": "nao",
    "situacoesDuranteTrabalho": ["horas_extras_nao_pagas"],
    "aceitaConsultoria": "sim",
    "whatsapp": "(11) 99999-9999"
  }'
Resposta esperada: Status 200 com mensagem de sucesso.

üîß IMPORTANTE:
Todos os leads deletados agora s√£o removidos PERMANENTEMENTE - n√£o voltam mais ao atualizar a tela
O backend salva automaticamente no arquivo labor-research-leads.json
Use as rotas DELETE no painel admin para garantir exclus√£o persistente
Sempre chame fetchLeads() ap√≥s deletar para atualizar a lista no frontend
O backend est√° 100% funcional e pronto para receber tanto dados pessoais quanto da pesquisa trabalhista! üöÄ


Scroll to latest
Assistant mode
